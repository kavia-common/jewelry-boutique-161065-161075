{"is_source_file": true, "format": "TypeScript", "description": "This file defines a utility function for loading external scripts only once, managing script loading state, and handling loading errors.", "external_files": ["document", "document.head", "document.getElementsByTagName", "HTMLScriptElement"], "external_methods": ["document.getElementsByTagName", "Array.from", "addEventListener", "appendChild"], "published": ["loadedScripts", "loadScriptOnce"], "classes": [], "methods": [{"name": "export function loadScriptOnce(src: string): Promise<void> { loadScriptOnce", "description": "Loads an external script into the document exactly once, returning a Promise that resolves when the script has loaded successfully or rejects on error.", "scope": "", "scopeKind": ""}], "calls": ["document.getElementsByTagName", "Array.from", "existingEl.addEventListener", "existingEl.addEventListener", "document.createElement", "document.head.appendChild"], "search-terms": ["loadScript", "script loading", "single load", "script management", "TypeScript utility"], "state": 2, "file_id": 24, "knowledge_revision": 64, "git_revision": "", "revision_history": [{"61": ""}, {"64": ""}], "ctags": [{"_type": "tag", "name": "ScriptWithState", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161075/jewelry_shop_frontend/src/utils/loadScript.ts", "pattern": "/^interface ScriptWithState extends HTMLScriptElement {$/", "language": "TypeScript", "kind": "interface"}, {"_type": "tag", "name": "_loaded", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161075/jewelry_shop_frontend/src/utils/loadScript.ts", "pattern": "/^  _loaded?: boolean$/", "language": "TypeScript", "kind": "property", "scope": "ScriptWithState", "scopeKind": "interface"}, {"_type": "tag", "name": "existingEl", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161075/jewelry_shop_frontend/src/utils/loadScript.ts", "pattern": "/^    const existingEl = Array.from(document.getElementsByTagName('script')).find((s) => s.src ===/", "language": "TypeScript", "kind": "constant", "scope": "loadScriptOnce", "scopeKind": "function"}, {"_type": "tag", "name": "loadScriptOnce", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161075/jewelry_shop_frontend/src/utils/loadScript.ts", "pattern": "/^export function loadScriptOnce(src: string): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "loadedScripts", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161075/jewelry_shop_frontend/src/utils/loadScript.ts", "pattern": "/^export const loadedScripts = new Set<string>()$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "script", "path": "/home/kavia/workspace/code-generation/jewelry-boutique-161065-161075/jewelry_shop_frontend/src/utils/loadScript.ts", "pattern": "/^    const script = document.createElement('script') as ScriptWithState$/", "language": "TypeScript", "kind": "constant", "scope": "loadScriptOnce", "scopeKind": "function"}], "hash": "39468e6842941f7bde3acd741b9deb7b", "format-version": 4, "code-base-name": "jewelry_shop_frontend", "filename": "jewelry_shop_frontend/src/utils/loadScript.ts", "fields": [{"name": "interface ScriptWithState extends HTMLScriptElement {", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_loaded?: boolean", "scope": "ScriptWithState", "scopeKind": "interface", "description": "unavailable"}]}